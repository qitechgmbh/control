## Table of Contents
1. [Introduction](#1-introduction)
2. [Requirements](#2-requirements)
3. [Hardware Setup](#3-hardware-setup)
4. [Software Setup](#4-software-setup)
5. [Demo](#5-demo)
6. [References](#6-references)

---

## 1. Introduction
The WAGO 750-501 Digital Output Example is a minimal demonstration showing how to set the digital outputs on a WAGO 750-501 EtherCAT terminal using the QiTech machine framework.
It represents one of the simplest possible hardware interactions in the system:
Controlling 2 Digital Outputs using the QiTech Control Dashboard. Each output state is also reflected by the built-in LED on the terminal — no additional wiring is required to observe the output.

## 2. Requirements

### Hardware
- WAGO **2787-2144 EtherCAT**
- WAGO **750-354 EtherCAT Coupler**
- WAGO **750-602 EtherCAT Power Terminal**
- WAGO **750-501 EtherCAT Terminal** (2-Channel Digital Output)
- WAGO **750-600 EtherCAT Endmodule**
- WAGO **852-1322 Ethernet-Switch**
- **24V DC Lab power supply** (AC/DC adapter)
- A **Linux PC** (Ubuntu/Debian recommended)
- Standard Ethernet cable

---

### Software
*(Installation steps in Section 4)*

- Rust toolchain
- Node-js + npm
- Git
- QiTech Control repository
- EtherCAT HAL *(included inside repo)*

## 3. Hardware Setup

#### ⚠️ Safety Warning
Always disconnect power before wiring.
Working on live EtherCAT terminals can cause serious damage or electrical shock.

### 3.1 Safe Wiring Procedure
1. Insert a screwdriver **straight** into the square release hole.
2. Insert the stripped wire into the round opening.
3. Remove the screwdriver — the spring clamp locks the wire.

![](assets/wiring.png)

---

### 3.2 Wiring Steps (Used in This Example)

We supply power to the other devices by using the **750-602 EtherCAT Power Terminal**

Perform the following wiring on the Ethernet-Switch:

1. Red wire (+24V) → PWR+
2. Black wire (0V) → RPS-

#### **Figure 1 —**
<img src="assets/WAGO750_402_switch.JPG" width="400">

---

### 3.3 WAGO Wiring the Coupler

Wire the **750-354 EtherCAT Coupler** to the power supply:
1. Red wire (+24V)
2. Yellow wire (0V)

#### **Figure 2 —**
<img src="assets/WAGO750_402_coupler.JPG" width="400">

---

### 3.4 750-602 EtherCAT Power Terminal Integration

Slide the **750-602 EtherCAT Power Terminal** onto the **right side of the 750-354 Coupler** until it locks.

Perform the following wiring steps:

1. Green wire (Ground) → **Terminal 4**
2. Red wire (+24V) from **750-602 EtherCAT Power Terminal** → **Terminal 2**
3. Black wire (0V) from **750-602 EtherCAT Power Terminal** → **Terminal 3**
4. Red wire (+24V) from **750-354 EtherCAT Coupler** → **Terminal 6**
5. Yellow wire (0V) from **750-354 EtherCAT Coupler** → **Terminal 7**

#### **Figure 3 — Wiring**
<img src="assets/WAGO750_402_power_terminal.JPG" width="400">

---

### 3.5 750-501 EtherCAT Terminal Integration

Slide the **750-501 EtherCAT Terminal** onto the **right side of the 750-602 EtherCAT Power Terminal** until it locks.

The terminal receives its power through the pin connectors — **no additional wiring is required**.
The output state of each channel is visible via the built-in LED on the terminal face.

---

### 3.6 750-600 Final Assembly

Slide the **750-600 EtherCAT Endmodule** onto the **right side of the 750-501 EtherCAT Terminal** until it locks.

No further wiring is required.

---

### 3.7 Power & Ethernet

#### Power

Connect the 2787-2144 power supply to the power outlet.

#### Ethernet

Use a standard LAN cable to connect your PC → **852-1322 Ethernet-Switch**

And another from **852-1322 Ethernet-Switch** → **750-354 EtherCAT Coupler**

#### **Figure 4 — Ethernet**
<img src="assets/WAGO750_402_ethernet.JPG" width="400">

## 4. Software Setup

### 4.1 Installing on Ubuntu/Debian
Paste this into your terminal:

```bash
# Press Enter when prompted
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

sudo apt update
sudo apt install -y npm nodejs git

git clone git@github.com:qitechgmbh/control.git
cd control/electron
npm install
```

### 4.2 Running the Backend
```bash
./cargo_run_linux.sh
```
This script:

- Builds the backend

- Grants required system capabilities (raw sockets)

- Starts EtherCAT communication

Ensure the WAGO 750-501 is connected.

### 4.3 Running the Frontend
```bash
cd electron
npm run start
```

This launches the QiTech Control dashboard.

## 5. Demo

### 5.1 Assigning Devices in the Dashboard

Once the backend + frontend are running, you should see:

- WAGO750-354 (Coupler)

- WAGO750-501 (2CH DO)

Steps:

- Click **Assign** on the 750-354 module

- Select **"Wago 750-501 DO Test V1"**

- Enter a serial number other than 0

- Keep the device role unchanged if it is set to **"Wago 750-354 Bus Coupler"**

- Repeat these steps for the 750-501 module using the **same** non-zero serial number

- Finally, restart the Backend process

### 5.2 Controlling the Outputs

In the left sidebar, **Wago 750-501 DO Test** should appear. Click it.

You will see two output channels — **Do1** and **Do2** — each with an **On/Off** toggle.

Toggling an output to **On** activates the corresponding channel and lights up the LED on the 750-501 terminal face. Toggling it to **Off** deactivates the channel and turns the LED off.

A **Master Output Control** panel is also available to turn all outputs on or off simultaneously.

## 6. References
[WAGO 750-501 Documentation](https://www.wago.com/global/i-o-systems/2-channel-digital-output/p/750-501)

[WAGO 750-354 Documentation](https://www.wago.com/de/io-systeme/feldbuskoppler-ethercat/p/750-354#details)

[WAGO 750-600 Documentation](https://www.wago.com/de/io-systeme/endmodul/p/750-600#details)
